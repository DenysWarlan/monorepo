<div class="row justify-content-center">
  <div class="col-12">
    <h1 class="white-text text-center">CREATE NEW ACCOUNT</h1>
  </div>
  <mat-error *ngIf="(errors$ | async)">
    <h5 class="mat-error text-center" id="errorMessage">{{(errors$ | async)?.error?.message}}</h5>
  </mat-error>
  <div class="col-xs-12 col-md-6 col-lg-6">
    <form [formGroup]="form" (submit)="form && form.valid && submitForm()" class="white-text">
      <div class="form-group">
        <mat-form-field class="w-100">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" placeholder="Name and surname" />
          <monorepo-error-form
                *ngIf="form.get('name').touched || form.get('name').dirty"
                [errors]="form.get('name').errors"
                ctrlName="Name"
        ></monorepo-error-form>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field class="w-100">
          <mat-label>Birth day</mat-label>
          <input matInput formControlName="birthDate" [matDatepicker]="picker" placeholder="Choose a birth date" readonly>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <monorepo-error-form
                *ngIf="form.get('name').touched || form.get('name').dirty"
                [errors]="form.get('name').errors"
                ctrlName="Name"
        ></monorepo-error-form>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field class="w-100">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" placeholder="Ex. pat@example.com" />
          <monorepo-error-form
                *ngIf="form.get('email').touched || form.get('email').dirty"
                [errors]="form.get('email').errors"
                ctrlName="Email"
        ></monorepo-error-form>
        </mat-form-field>
      </div>
      <div class="form-group">
        <mat-form-field class="w-100">
          <mat-label>Password</mat-label>
          <input matInput type="password" class="form-control" formControlName="password" autocomplete="new-password"/>
          <monorepo-error-form
                  *ngIf="form.get('password').touched || form.get('password').dirty"
                  [errors]="form.get('password').errors"
                  ctrlName="Password"
          ></monorepo-error-form>
        </mat-form-field>
      </div>
      <button [disabled]="form.invalid || (isRegisterLoading$ | async)" class="btn btn-success submit" type="submit">
        <span *ngIf="(isRegisterLoading$ | async) === false">Register</span>
        <mat-spinner *ngIf="(isRegisterLoading$ | async)" diameter="20"></mat-spinner>
      </button>
      or you can
      <span class="text-primary btn-link" (click)="login()">login</span>
    </form>
  </div>
</div>
